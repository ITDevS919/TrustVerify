# ============================================
# TrustVerify Environment Variables
# ============================================
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to version control

# ============================================
# Core Application Configuration
# ============================================
NODE_ENV=development
PORT=5000

# ============================================
# Database Configuration
# ============================================
# PostgreSQL connection string
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://user:password@localhost:5432/trustverify

# ============================================
# Security Configuration
# ============================================
# Session secret (minimum 32 characters) - Generate with: openssl rand -base64 32
SESSION_SECRET=your-session-secret-minimum-32-characters-long-change-this

# JWT secret (minimum 32 characters) - Optional, for JWT-based auth
JWT_SECRET=your-jwt-secret-minimum-32-characters-long-optional

# Encryption key (minimum 32 characters) - For data encryption
ENCRYPTION_KEY=your-encryption-key-minimum-32-characters-long-optional

# ============================================
# OAuth Provider Configuration
# ============================================
# Google OAuth
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

# Facebook OAuth
FACEBOOK_APP_ID=your-facebook-app-id
FACEBOOK_APP_SECRET=your-facebook-app-secret

# GitHub OAuth
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret

# Apple OAuth
APPLE_CLIENT_ID=your-apple-client-id
APPLE_TEAM_ID=your-apple-team-id
APPLE_KEY_ID=your-apple-key-id
APPLE_PRIVATE_KEY=your-apple-private-key

# ============================================
# Email Service Configuration
# ============================================
# At least one email provider must be configured in production

# SendGrid (Recommended)
SENDGRID_API_KEY=your-sendgrid-api-key

# AWS SES
AWS_SES_REGION=us-east-1
AWS_SES_ACCESS_KEY_ID=your-aws-ses-access-key-id
AWS_SES_SECRET_ACCESS_KEY=your-aws-ses-secret-access-key

# SMTP (Generic)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=your-smtp-username
SMTP_PASSWORD=your-smtp-password

# ============================================
# Payment Processing
# ============================================
# Stripe
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key
VITE_STRIPE_PUBLIC_KEY=pk_test_your-stripe-public-key

# ============================================
# Cloud Storage Configuration
# ============================================
# At least one cloud storage provider must be configured in production

# AWS S3
AWS_S3_REGION=us-east-1
AWS_S3_BUCKET=your-s3-bucket-name
AWS_S3_ACCESS_KEY_ID=your-aws-access-key-id
AWS_S3_SECRET_ACCESS_KEY=your-aws-secret-access-key

# Cloudflare R2 (S3-compatible)
CLOUDFLARE_R2_ACCOUNT_ID=your-r2-account-id
CLOUDFLARE_R2_ACCESS_KEY_ID=your-r2-access-key-id
CLOUDFLARE_R2_SECRET_ACCESS_KEY=your-r2-secret-access-key
CLOUDFLARE_R2_BUCKET=your-r2-bucket-name
CLOUDFLARE_R2_PUBLIC_URL=https://your-bucket.r2.cloudflarestorage.com

# ============================================
# Virus Scanning Configuration
# ============================================
VIRUS_SCAN_PROVIDER=clamav
VIRUS_SCAN_API_KEY=your-virus-scan-api-key

# ============================================
# Secret Management
# ============================================
# AWS Secrets Manager
AWS_SECRETS_MANAGER_REGION=us-east-1
AWS_SECRETS_MANAGER_SECRET_NAME=trustverify-secrets

# HashiCorp Vault
HASHICORP_VAULT_ADDR=https://vault.example.com:8200
HASHICORP_VAULT_TOKEN=your-vault-token

# ============================================
# SIEM Integration
# ============================================
SIEM_ENDPOINT=https://your-siem-endpoint.com/api/events
SIEM_API_KEY=your-siem-api-key
SIEM_PROVIDER=splunk

# ============================================
# WAF Configuration
# ============================================
WAF_ENABLED=false
CLOUDFLARE_API_TOKEN=your-cloudflare-api-token

# ============================================
# SSO Configuration
# ============================================
SSO_PROVIDER=okta
SSO_CLIENT_ID=your-sso-client-id
SSO_CLIENT_SECRET=your-sso-client-secret
SSO_DOMAIN=your-sso-domain.com

# ============================================
# GDPR Compliance
# ============================================
GDPR_ENABLED=true
DATA_RETENTION_DAYS=2555

# ============================================
# API Configuration
# ============================================
API_VERSION=v1
API_RATE_LIMIT_WINDOW_MS=900000
API_RATE_LIMIT_MAX_REQUESTS=100
API_MAX_PAYLOAD_SIZE_MB=10

# ============================================
# Session Configuration
# ============================================
SESSION_TIMEOUT_MINUTES=30
SESSION_EXTEND_ON_ACTIVITY=true

# ============================================
# Logging Configuration
# ============================================
LOG_LEVEL=info
LOG_FORMAT=json

# ============================================
# Caching Configuration
# ============================================
# Redis URL (optional - falls back to in-memory if not provided)
# Format: redis://user:password@host:port/database
REDIS_URL=redis://localhost:6379/0
CACHE_TTL_DEFAULT=3600

# ============================================
# Monitoring Configuration
# ============================================
METRICS_ENABLED=true
METRICS_PORT=9090
PROMETHEUS_ENABLED=false

# ============================================
# Health Check Configuration
# ============================================
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000

# ============================================
# Multi-Region Configuration
# ============================================
REGION=us-east-1
PRIMARY_REGION=us-east-1
FAILOVER_ENABLED=false

# ============================================
# Deployment Configuration
# ============================================
DEPLOYMENT_VERSION=1.0.0
DEPLOYMENT_ENVIRONMENT=development
ROLLBACK_ENABLED=true

# ============================================
# WORM Storage Configuration (Audit Trails)
# ============================================
WORM_STORAGE_ENABLED=true
WORM_STORAGE_PATH=./audit-trails
WORM_ENABLE_ENCRYPTION=false
WORM_ENCRYPTION_KEY=your-worm-encryption-key-optional
WORM_ENABLE_COMPRESSION=true
WORM_RETENTION_DAYS=2555

# ============================================
# Fraud Detection Configuration
# ============================================
FRAUD_ENABLE_VENDOR_APIS=false
FRAUD_ENABLE_ML=false

# ============================================
# Vendor Integration Configuration
# ============================================
# Identity Verification Vendors
IDENTITY_VENDOR=jumio
IDENTITY_VENDOR_ENABLED=false
IDENTITY_VENDOR_API_KEY=your-identity-vendor-api-key
IDENTITY_VENDOR_API_URL=https://api.identity-vendor.com

# IP Reputation Vendors
IP_VENDOR=maxmind
IP_VENDOR_ENABLED=false
IP_VENDOR_API_KEY=your-ip-vendor-api-key
IP_VENDOR_API_URL=https://api.ip-vendor.com

# Threat Intelligence Vendors
THREAT_INTEL_VENDOR=recordedfuture
THREAT_INTEL_VENDOR_ENABLED=false
THREAT_INTEL_VENDOR_API_KEY=your-threat-intel-vendor-api-key
THREAT_INTEL_VENDOR_API_URL=https://api.threat-intel-vendor.com

# ============================================
# Trust Badge Configuration
# ============================================
BADGE_BASE_URL=https://trustverify.com/badges
FRONTEND_URL=https://trustverify.com

# ============================================
# Sandbox Configuration
# ============================================
SANDBOX_ENABLED=true

# ============================================
# Development/Testing Configuration
# ============================================
# Allow all authenticated users admin access (development only)
ALLOW_ALL_ADMIN=false

# ============================================
# Client-Side Environment Variables (Vite)
# ============================================
# These variables are exposed to the client and must be prefixed with VITE_
# They are used in the frontend React application

# API Base URL (used by frontend to connect to backend)
VITE_API_URL=http://localhost:5000

# Stripe Public Key (already defined above, but shown here for clarity)
# VITE_STRIPE_PUBLIC_KEY=pk_test_your-stripe-public-key

# Frontend URL (for redirects, email links, etc.)
VITE_FRONTEND_URL=http://localhost:5173

# ============================================
# Notes
# ============================================
# 1. Required variables for production:
#    - DATABASE_URL
#    - SESSION_SECRET
#    - At least one email service (SENDGRID_API_KEY or AWS_SES_* or SMTP_*)
#    - At least one cloud storage (AWS_S3_* or CLOUDFLARE_R2_*)
#
# 2. Security best practices:
#    - Never commit .env file to version control
#    - Use strong, randomly generated secrets (minimum 32 characters)
#    - Rotate secrets regularly
#    - Use different values for development, staging, and production
#    - Store production secrets in a secure secret management service
#
# 3. Generate secure secrets:
#    - Session secret: openssl rand -base64 32
#    - JWT secret: openssl rand -base64 32
#    - Encryption key: openssl rand -base64 32
#
# 4. Optional services:
#    - Redis: Improves caching performance (falls back to in-memory if not configured)
#    - SIEM: For security event logging (logs locally if not configured)
#    - Secret Management: For automated key rotation (uses env vars if not configured)
#    - Vendor APIs: For enhanced fraud detection (uses mock data if not configured)
#
# 5. Development vs Production:
#    - Development: Most services are optional, uses local storage, mock vendors
#    - Production: Requires email service, cloud storage, proper secrets

